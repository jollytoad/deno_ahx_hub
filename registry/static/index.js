(()=>{var Ke=Object.defineProperty;var _e=(e,t)=>{for(var r in t)Ke(e,r,{get:t[r],enumerable:!0})};var fe=!1;document.addEventListener("DOMContentLoaded",function(){fe=!0},{once:!0,passive:!0});function ce(e){fe?e(document):document.addEventListener("DOMContentLoaded",()=>e(document),{once:!0,passive:!0})}var b=new Map,U=new Set,W=new WeakMap;function y(e,t,r){if(b.has(t)||b.set(t,new WeakMap),b.get(t).set(e,r),!W.has(e)){let n=new WeakRef(e);U.add(n),W.set(e,n)}}function d(e,t,r){return r&&!x(e,t)&&y(e,t,r()),b.get(t)?.get(e)}function x(e,t){return!!b.get(t)?.has(e)}function F(e,t){if(t)b.get(t)?.delete(e);else{for(let n of b.values())n.delete(e);let r=W.get(e);r&&(U.delete(r),W.delete(e))}}function*O(e){let t=b.get(e);if(t)for(let r of U){let n=r.deref();n&&t.has(n)&&(yield[n,t.get(n)])}}function*w(){for(let e of U){let t=e.deref();if(t)for(let[r,n]of b.entries())n.has(t)&&(yield[t,r,n.get(t)])}}var c={prefix:"ahx",httpMethods:["get","post","put","patch","delete"],ahxAttrs:["trigger","target"],maxLoopCount:10,defaultDelay:20,defaultSettleDelay:20,defaultSwapDelay:0,enableDebugEvent:!1,pseudoChildTags:{article:"div",aside:"div",audio:"track",body:"div",canvas:null,colgroup:"col",datalist:"option",dl:"dt",footer:"div",form:"fieldset",head:null,header:"div",hgroup:"div",html:null,iframe:null,main:"div",map:"area",menu:"li",noscript:null,object:null,ol:"li",optgroup:"option",picture:"source",portal:null,pre:null,script:null,section:"div",select:"option",style:null,table:"tbody",tbody:"tr",template:null,textarea:null,tfoot:"tr",thead:"tr",tr:"td",ul:"li",video:"track",area:null,base:null,br:null,col:null,embed:null,hr:null,img:null,input:null,link:null,meta:null,param:null,source:null,track:null,wbr:null,"*":"span"}};function M(e,t,r,n=!0){if(e!==null){let o=new CustomEvent(t,{bubbles:!!e,cancelable:n,detail:r});return c.enableDebugEvent&&dispatchEvent(new CustomEvent(c.prefix,{bubbles:!1,cancelable:!1,detail:{type:o.type,target:e,bubbles:o.bubbles,cancelable:o.cancelable,detail:o.detail}})),e&&"dispatchEvent"in e?e.dispatchEvent(o):dispatchEvent(o)}return!1}function B(e,t,r){M(e,`${c.prefix}:${t}`,r,!1)}function u(e,t,r){r._before=!0;let n=M(e,`${c.prefix}:${t}`,r);return delete r._before,n||M(e,`${c.prefix}:${t}:veto`,r,!1),n}function p(e,t,r){r._after=!0,M(e,`${c.prefix}:${t}:done`,r,!1),delete r._after}function v(e,t,r){M(e,`${c.prefix}:${t}:error`,{error:t,...r},!1)}function P(e){let t=new Set;for(let r of e.style)te(r)&&t.add(r);return t}function pe(e){for(let t of e.attributes)if(re(t.name))return!0;return!1}function te(e){return e.startsWith(`--${c.prefix}-`)}function re(e){return e.startsWith(`${c.prefix}-`)}function N(e){return te(e)?e:re(e)?`--${e}`:`--${c.prefix}-${e}`}function j(e){return re(e)?e:te(e)?e.substring(2):`${c.prefix}-${e}`}function h(e){if(x(e,"owner"))return d(e,"owner");if(e instanceof StyleSheet)return d(e,"owner")??e.href??void 0;if(e instanceof CSSRule&&e.parentStyleSheet)return h(e.parentStyleSheet);if(e instanceof Element&&e.parentElement)return h(e.parentElement)}function C(e,t){t!==h(e)&&y(e,"owner",t)}function T(e,t,r,n="tokens"){e=N(e);let o=t.style.getPropertyValue(e)?.trim();if(o){if(r){let a=/^attr\(([^\)\s,]+)(?:\s+([^\)\s,]+))?\)$/.exec(o);if(a)return o=r.getAttribute(a[1])??void 0,o&&a[2]==="url"&&(o=s(o,r.baseURI)),o?[o]:[];{let l=/^--prop\(([^\)\s,]+)(?:\s+([^\)\s,]+))?\)$/.exec(o);if(l){o=void 0;let f=r[l[1]];return l[2]==="url"&&typeof f=="string"?o=s(f,r.baseURI):(typeof f=="string"||typeof f=="number"||typeof f=="boolean")&&(o=String(f)),o?[o]:[]}}}let i=/^url\(([^\)]*)\)$/.exec(o);if(i&&(o=i[1]),o=ue(o),i){let a=t.parentStyleSheet?.href??t.style.parentRule?.parentStyleSheet?.href??r?.baseURI;return o=s(o,a),o?[o]:[]}}return o?n==="tokens"?o.split(/\s+/).map(ue):[o]:[];function s(i,a){try{return new URL(i,a).href}catch(l){console.error(l,i,a)}}}function ue(e){let t=/^\"([^\"]*)\"$/.exec(e)??/^\'([^\']*)\'$/.exec(e);return t?t[1]:e}function $(e,t,r="tokens"){e=j(e);let n=t.getAttribute(e)??void 0;return n?r==="tokens"?n.split(/\s+/):[n]:[]}function E(e,t,r="tokens"){return t instanceof Element?$(e,t,r):T(e,t,void 0,r)}function G(e,t){return We(e,t,!1)}function We(e,t,r){if(!t)return s();let[n,o]=Ue(t);switch(n){case"this":return s(e);case"closest":return s(e.closest(o));case"find":return r?e.querySelectorAll(o):e.querySelector(o)??void 0;case"next":return s(Fe(e,o));case"previous":return s(Be(e,o));case"body":return s(e.ownerDocument.body);case"document":case"window":return s();default:return r?e.ownerDocument.querySelectorAll(t):e.ownerDocument.querySelector(t)??void 0}function s(i){return r?i?[i]:[]:i??void 0}}function Ue(e){let t=e.indexOf(" ");return t===-1?[e,""]:[e.substring(0,t),e.substring(t+1)]}function Fe(e,t){for(let r of e.ownerDocument.querySelectorAll(t))if(r.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_PRECEDING)return r}function Be(e,t){let r=e.ownerDocument.querySelectorAll(t);for(let n=r.length-1;n>=0;n--){let o=r[n];if(o.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_FOLLOWING)return o}}async function*je(){let e=this.getReader();try{let t,r;do({done:t,value:r}=await e.read()),r!==void 0&&(yield r);while(!t)}finally{e.releaseLock()}}ReadableStream.prototype[Symbol.asyncIterator]??=je;var X=class extends TransformStream{constructor(t,r){let n,o;super({start(){n=t.implementation.createHTMLDocument()},transform(s,i){if(n.write(s),!o&&n.body?.childElementCount>0){let a=n.body.children[0];r&&a instanceof HTMLTemplateElement?o=a.content:o=n.body}for(;o?.childElementCount>1;){let a=o.children[0];t.adoptNode(a),i.enqueue(a)}},flush(s){for(let i of[...o?.children??[]])t.adoptNode(i),s.enqueue(i);n.close(),n=void 0,o=void 0}})}};function me(e,t){for(let[r,n]of O("slotName"))if(r instanceof CSSStyleRule&&n.has(e)){let o=t.querySelector(r.selectorText);if(o)return o}for(let r of t.querySelectorAll("slot[name]"))if(e===r.getAttribute("name"))return r}async function de(e){let{response:t,target:r}=e,n=r.ownerDocument;if(t?.ok&&t.headers.get("Content-Type")?.startsWith("text/html")&&t.body){let o=0,s,i=t.body.pipeThrough(new TextDecoderStream).pipeThrough(new X(n,!0));for await(let a of i){let l={...e,swapStyle:e.swapStyle??"none",element:a,previous:s,index:o},[f]=$("slot",a);if(f){l.slot=f;let m=me(f,n);m?(l.target=m,l.swapStyle="inner"):l.swapStyle="none"}if(u(r,"swap",l)){let{target:m,element:g,originOwner:K,swapStyle:ee,slot:_}=l;K&&C(g,K),_||!s?Ge[ee]?.(m,g):s.after(g),_||(s=g),p(m,"swap",l)}o++}}}var z=e=>(t,r)=>{t.insertAdjacentElement(e,r)},Ge={none(){},inner(e,t){e.replaceChildren(t)},outer(e,t){let r=`${c.prefix}-pseudo`;for(let o of e.classList)o.startsWith(r)&&t.classList.add(o);let n=d(e,"triggeredOnce");n&&y(t,"triggeredOnce",n),e.replaceWith(t)},beforebegin:z("beforebegin"),afterbegin:z("afterbegin"),beforeend:z("beforeend"),afterend:z("afterend")};function ge(e){let{target:t,itemName:r,merge:n}=e,o={...e};if(o.oldValue=t.getAttribute(r)??void 0,n==="join"&&o.oldValue&&o.value&&(o.value=Xe(o.oldValue,o.value)),u(t,"swap",o)){let{target:s,itemName:i,value:a}=o;i&&a!==void 0&&s.setAttribute(i,a),p(s,"swap",o)}}function Xe(e,t){let r=" ",n=new Set(`${e}${r}${t}`.split(r));return n.delete(""),[...n].join(r)}function Se(e){let{target:t,itemName:r,merge:n,value:o}=e;if(!r||o===void 0)return;let s={...e};if(t instanceof HTMLFormElement)switch(s.input=t.elements.namedItem(r)??void 0,n){case"append":s.input=he(r,t.ownerDocument);break;default:s.input?"value"in s.input&&(s.oldValue=s.input.value):s.input=he(r,t.ownerDocument);break}else{s.formData=d(t,"formData",()=>new FormData);let i=s.formData.get(r);typeof i=="string"&&(s.oldValue=i)}if(n==="join"&&(s.value=ze(s.oldValue,s.value)),u(t,"swap",s)){let{target:i,input:a,itemName:l,merge:f,formData:m,value:g}=s;l&&g!==void 0&&(a&&"value"in a?(a.value=g,a instanceof Element&&!a.parentElement&&i.insertAdjacentElement("beforeend",a)):m&&(f==="append"?m.append(l,g):m.set(l,g))),p(i,"swap",s)}}function he(e,t){let r=t.createElement("input");return r.type="hidden",r.name=e,r}function ze(e="",t=""){let r=" ",n=new Set(`${e}${r}${t}`.split(r));return n.delete(""),[...n].join(r)}function ye(e){let{swapStyle:t}=e;switch(t){case"input":return Se(e);case"attr":return ge(e)}}async function Q(e){let{swapStyle:t,response:r,itemName:n}=e,{value:o}=e;switch(t){case"input":case"attr":return n?(o===void 0&&r&&(o=await r.text()),ye({...e,swapStyle:t,itemName:n,value:o})):void 0;default:if(Qe(r))return de({...e,swapStyle:t??"none",response:r})}}function Qe(e){return!!e?.headers.get("Content-Type")?.startsWith("text/html")&&!!e.body}async function xe(e){let{source:t,action:r,target:n,swap:o,formData:s,originOwner:i,targetOwner:a}=e;if(r.type!=="request")return;let l={request:Ye(r,s)};if(u(t,"request",l)){let{request:f}=l;try{let m=await fetch(f);p(t,"request",{request:f,response:m}),await Q({...o,target:n,response:m,originOwner:i,targetOwner:a})}catch(m){p(t,"request",{request:f,error:m})}}}function Ye(e,t){let r=new URL(e.url),n={method:e.method.toUpperCase()};if(t)switch(n.method){case"GET":case"HEAD":case"DELETE":for(let[o,s]of t)r.searchParams.append(o,String(s));break;case"PUT":case"POST":case"PATCH":n.body=t}return new Request(r,n)}async function Ee(e){let{event:t,source:r,action:n,target:o,swap:s,origin:i,originOwner:a,targetOwner:l}=e;if(!(i instanceof CSSStyleRule)||n.type!=="harvest")return;let[f]=T("harvest",i,r);if(f===void 0)return;let m=Ze(t),g={source:r,oldValue:m,newValue:f,origin:i,targetOwner:l,originOwner:a};u(r,"harvest",g)&&(await Q({...s,target:o,value:g.newValue}),p(r,"harvest",g))}function Ze(e){if(e instanceof CustomEvent&&"oldValue"in e.detail)return e.detail.oldValue}async function we(e){let{source:t,origin:r}=e,[n]=E("include",r,"whole"),o=G(t,n);if(e.formData=o?Je(o):void 0,u(t,"handleAction",e)){switch(e.action.type){case"request":await xe(e);break;case"harvest":await Ee(e);break}p(t,"handleAction",e)}}function Je(e){if(x(e,"formData"))return d(e,"formData");if(e instanceof HTMLFormElement)return new FormData(e)}function Te(e){let{trigger:t,source:r}=e;if(oe(r)){v(r,"triggerDenied",e);return}if(u(r,"handleTrigger",e)){if(t?.once){if(x(r,"triggeredOnce"))return;y(r,"triggeredOnce",!0)}t?.changed,x(r,"delayed")&&(clearTimeout(d(r,"delayed")),F(r,"delayed")),t?.throttle||t?.delay||we(e),p(r,"handleTrigger",e)}}function oe(e){let[t]=E("deny-trigger",e);return t==="true"}function S(e){if(e instanceof Element)return e;if(e&&"ownerNode"in e&&e.ownerNode&&e.ownerNode instanceof Element)return e.ownerNode;if(e?.parentStyleSheet)return S(e.parentStyleSheet);if(e&&"ownerRule"in e)return S(e.ownerRule)}var et=new Set(["load","watch"]);function Ae(e){return et.has(e)?`${c.prefix}:${e}`:e}function be(e){let t=`${c.prefix}:`;return e.startsWith(t)?e.substring(t.length):e}function Y(e){return!!e.parentStyleSheet&&!e.parentStyleSheet.disabled}function*ve(e,t,r){let n=d(t,`trigger:${e}`);if(n&&(yield[t,n]),r)for(let[o,s]of O(`trigger:${e}`))o instanceof Element&&t.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY&&(yield[o,s])}function*Ce(e,t,r){for(let[n,o]of O(`trigger:${e}`))if(o&&n instanceof CSSStyleRule&&Y(n)&&(t.matches(n.selectorText)&&(yield[t,n,o]),r))for(let s of t.querySelectorAll(n.selectorText))yield[s,n,o]}function q(e,t){let[r]=E("target",t??e,"whole");return G(e,r)??e}var Ne=new Set;function Re(e,t,r,n){for(let o of t)for(let s of r)tt(e,o,s,n)}function tt(e,t,r,n){let o={origin:e,trigger:t,action:r,swap:n},s=S(e)??document;if(u(s,"addTrigger",o)){let{trigger:i,action:a}=o,{eventType:l}=i;if(y(e,`trigger:${l}`,{trigger:i,action:a,swap:n}),!Ne.has(l)){let f={eventType:l};u(document,"addEventType",f)&&(Ne.add(l),document.addEventListener(Ae(l),ot),p(document,"addEventType",f))}p(s,"addTrigger",o)}}function*rt(e){if(e.target instanceof Element){let t=be(e.type),r=e.target,n=e instanceof CustomEvent&&!!e.detail?.recursive;for(let[o,s]of ve(t,r,n)){let i=h(o),a=q(o),l=h(a);yield{...s,event:e,source:o,sourceOwner:i,target:a,targetOwner:l,origin:o,originOwner:i}}for(let[o,s,i]of Ce(t,r,n)){let a=q(o,s);yield{...i,event:e,source:o,sourceOwner:h(o),target:a,targetOwner:h(a),origin:s,originOwner:h(s)}}}}function ot(e){for(let t of rt(e))Te(t)}function I(e){if(e!=null)return e.slice(-2)=="ms"?parseFloat(e.slice(0,-2))||void 0:e.slice(-1)=="s"?parseFloat(e.slice(0,-1))*1e3||void 0:e.slice(-1)=="m"?parseFloat(e.slice(0,-1))*1e3*60||void 0:parseFloat(e)||void 0}var ne=/[\s,]/,nt=/[_$a-zA-Z]/,st=/[_$a-zA-Z0-9]/,it=['"',"'","/"],H=/[^\s]/;function Oe(e){let[t]=E("trigger",e,"whole"),r=[],n=S(e);if(t){let o=at(t);do{A(o,H);let s=o.length,i=A(o,/[,\[\s]/);if(i)if(i==="every"){let a={eventType:"every"};A(o,H),a.pollInterval=I(A(o,/[,\[\s]/)),A(o,H),r.push(a)}else{let a={eventType:i};for(;o.length>0&&o[0]!==",";){A(o,H);let l=o.shift();l==="changed"?a.changed=!0:l==="once"?a.once=!0:l==="delay"&&o[0]===":"?(o.shift(),a.delay=I(A(o,ne))):l==="throttle"&&o[0]===":"?(o.shift(),a.throttle=I(A(o,ne))):l==="queue"&&o[0]===":"?(o.shift(),a.queue=A(o,ne)):v(n,"triggerSyntax",{token:o.shift()})}r.push(a)}o.length===s&&v(n,"triggerSyntax",{token:o.shift()}),A(o,H)}while(o[0]===","&&o.shift())}return r}function at(e){let t=[],r=0;for(;r<e.length;){if(nt.exec(e.charAt(r))){let n=r;for(;st.exec(e.charAt(r+1));)r++;t.push(e.substr(n,r-n+1))}else if(it.indexOf(e.charAt(r))!==-1){let n=e.charAt(r),o=r;for(r++;r<e.length&&e.charAt(r)!==n;)e.charAt(r)==="\\"&&r++,r++;t.push(e.substr(o,r-o+1))}else{let n=e.charAt(r);t.push(n)}r++}return t}function A(e,t){let r="";for(;e.length>0&&!e[0].match(t);)r+=e.shift();return r}function Pe(e){let t=[];for(let r of c.httpMethods){let[n]=E(r,e);if(n){let o=(S(e)??document).baseURI;t.push({type:"request",method:r,url:new URL(n,o)})}}return e instanceof CSSStyleRule&&P(e).has(N("harvest"))&&t.push({type:"harvest"}),t}function Ie(e){let t=E("swap",e,"tokens"),r={};if(t?.length){r.swapStyle=t.shift()?.toLowerCase(),(r.swapStyle==="attr"||r.swapStyle==="input")&&(r.itemName=t.shift());for(let n of t){let[o,s]=n.split(":");switch(o){case"swap":case"delay":r.delay=I(s);break;case"join":r.merge="join";break;case"append":r.merge="append";break}}}return r}function Z(e){let t=Oe(e),r=Pe(e),n=Ie(e);Re(e,t,r,n)}function V(e){if(pe(e)){let t={owner:h(e)};u(e,"processElement",t)&&(t.owner&&C(e,t.owner),Z(e),p(e,"processElement",t))}}function J(e){let t=new Set;[...c.ahxAttrs,...c.httpMethods].forEach(n=>{t.add(`[${j(n)}]`)});let r={selectors:t};if(u(e,"processElements",r)){let n=new Set;for(let o of r.selectors){!n.has(e)&&e instanceof Element&&e.matches(o)&&(n.add(e),V(e));for(let s of e.querySelectorAll(o))n.has(s)||(n.add(s),V(s))}p(e,"processElements",r)}}function De(e){B(e,"mutate",{})}function D(e){B(e,"load",{recursive:!0})}function ke(e,t){let r=N("deny-trigger");if(t.has(r)){let[n]=T(r,e);n==="true"?y(e,"denyTrigger",!0):(e.style.removeProperty(r),v(e.parentStyleSheet?.ownerNode??document,"invalidCssValue",{prop:r,value:n,rule:e}))}return[]}var lt=1;function Le(e){let t=e.selectorText.includes("::before"),r=t?!1:e.selectorText.includes("::after");if(t||r){let n=d(e,"pseudoId")||lt++,o=t?"before":"after",s=e.selectorText.replace(`::${o}`,"");for(let i of document.querySelectorAll(s))ft(i,n,o);return ct(e,n,o)}}function ft(e,t,r){let n=`${c.prefix}-pseudo-${t}`;if(!e.querySelector(`:scope > .${n}`)){let o=e.localName,s=c.pseudoChildTags[o];if(s===null){v(e,"pseudoElementNotPermitted",{parentTag:o});return}s===void 0&&(s=c.pseudoChildTags["*"]??"span");let i=`${c.prefix}-pseudo-${r}`,a=document.createElement(s);a.setAttribute("class",`${c.prefix}-pseudo ${i} ${n}`);let l={pseudoElt:a,pseudoId:t,place:r};if(u(e,"pseudoElement",l)){let f=l.place==="before"?"afterbegin":"beforeend";e.insertAdjacentElement(f,l.pseudoElt),p(e,"pseudoElement",l)}}}function ct(e,t,r){if(!x(e,"pseudoId")){y(e,"pseudoId",t);let n=`${c.prefix}-pseudo-${t}`,o=e.selectorText.replace(`::${r}`,` > .${n}`),s=e.cssText.replace(e.selectorText,o),i={selectorText:o,cssText:s,parentStyleSheet:e.parentStyleSheet},a={pseudoId:t,pseudoRule:i,rule:e,place:r,owner:h(e)},l=S(e)??document;if(u(l,"pseudoRule",a)){let f=a.pseudoRule.parentStyleSheet;if(f){let m=f.cssRules,g=m[f.insertRule(a.pseudoRule.cssText,m.length)];return!a.owner&&f.href&&(a.owner=f.href),a.owner&&C(g,a.owner),p(l,"pseudoRule",{...a,pseudoRule:g}),g}}}}function Me(e,t,r){let n=N("import");for(let o of t)if(o===n||o.startsWith(`${n}-`)){let s=d(e,"importLinks")?.get(o)?.deref(),i=!1;for(let a of document.querySelectorAll(e.selectorText)){let[l]=T(o,e,a);if(l){if(i=!0,s){s.sheet&&s.sheet.disabled&&(s.sheet.disabled=!1,setTimeout(()=>{r?.(s)},0));break}else if(s=pt(l,S(e)?.crossOrigin??void 0,r),s){d(e,"importLinks",()=>new Map).set(o,new WeakRef(s));break}}}!i&&s&&s.sheet&&!s.sheet.disabled&&(s.sheet.disabled=!0)}}function pt(e,t,r){let n={url:e,crossOrigin:t,disabled:!1};if(u(document,"cssImport",n)&&!document.querySelector(`link[rel="stylesheet"][href="${n.url}"]`)){let o=document.createElement("link");return o.setAttribute("rel","stylesheet"),o.setAttribute("href",n.url),typeof n.crossOrigin=="string"&&o.setAttribute("crossorigin",n.crossOrigin),o.addEventListener("load",s=>{console.log("After load",n.url,o.sheet);function i(a=1){setTimeout(()=>{console.log("After load + timeout",n.url,o.sheet),o.sheet?(p(s.target??document,"cssImport",n),r?.(o)):a<1e3?i(a*2):console.error("TIMEOUT")},a)}i()},{once:!0,passive:!0}),document.head.appendChild(o),o}}function $e(e){let t=T("slot-name",e);if(t.length){let r=d(e,"slotName",()=>new Set);t.forEach(n=>r.add(n))}}function se(e,t){if(e.parentStyleSheet&&ut(e.parentStyleSheet),t.size){let r=h(e),n={rule:e,props:t,owner:r},o=S(e)??document;if(u(o,"processRule",n)){n.owner&&C(e,n.owner),Me(e,t,mt),ke(e,t);let s=Le(e);s&&se(s,P(s)),Z(e),$e(e),p(o,"processRule",n)}}}function ut(e){x(e,"owner")||C(e,e.href??"unknown")}function mt(e){k(e),D(e.ownerDocument.documentElement)}function k(e){let t={rules:dt(e)};if(u(e,"processRules",t)){for(let[r,n]of t.rules)se(r,n);p(e,"processRules",t)}}function dt(e){let t=new Map;function r(s){if(!s.disabled)try{n(s.cssRules)}catch{}}function n(s){for(let i of s)i instanceof CSSImportRule&&i.styleSheet?r(i.styleSheet):i instanceof CSSGroupingRule?n(i.cssRules):i instanceof CSSStyleRule&&o(i)}function o(s){let i=P(s);i.size>0&&t.set(s,i)}if("sheet"in e&&e.sheet)r(e.sheet);else if("styleSheets"in e)for(let s of e.styleSheets)r(s);return t}function qe(e){let t=new MutationObserver(n=>{let o={mutations:n};if(u(e,"mutations",o)){let s=new Set,i=new Set,a=new Set,l=new Set;for(let f of o.mutations){for(let m of f.removedNodes)s.add(m),m instanceof Element&&i.add(m);for(let m of f.addedNodes)s.delete(m),m instanceof Element&&(J(m),a.add(m));f.type==="attributes"&&f.target instanceof Element&&V(f.target),f.target instanceof Element&&l.add(f.target)}setTimeout(()=>{for(let f of l)De(f)},0),setTimeout(()=>{for(let f of a)D(f)}),k(e),p(e,"mutations",{...o,removedElements:i,addedElements:a,mutatedElements:l});for(let f of s)He(f)}}),r={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0};u(e,"startObserver",r)&&(t.observe(e,r),p(e,"startObserver",r))}function He(e){F(e);for(let t of e.childNodes)He(t)}var L={group:!1,include:[]};function ie(){c.enableDebugEvent=!0,addEventListener(c.prefix,ae)}function gt(){c.enableDebugEvent=!1,removeEventListener(c.prefix,ae)}function ae({detail:e}){let{type:t,target:r,detail:n}=e;if(ht(t))if(n?._after&&L.group&&console.groupEnd(),n?._before){let o=L.group?L.group===!0?"group":"groupCollapsed":"debug";console[o]("%s -> %o %o",t,r,n)}else console.debug("%s -> %o %o",t,r,n)}function ht(e){return L.include?.length?!!L.include.some(t=>e.includes(`:${t}`)):!0}var le={};_e(le,{elements:()=>yt,eventsAll:()=>ie,eventsNone:()=>gt,forms:()=>wt,internals:()=>St,logger:()=>ae,loggerConfig:()=>L,owners:()=>Et,triggers:()=>xt});function St(){console.group("AHX Internal Properties");let e;for(let[t,r,n]of w()){if(t!==e){e&&console.groupEnd();let o=t instanceof CSSRule?t.cssText:t;if(console.groupCollapsed(o),console.dir(t),t instanceof CSSStyleRule)for(let s of document.querySelectorAll(t.selectorText))console.log(s);e=t}if(n instanceof Map){console.group("%s:",r);for(let o of n)console.log("%c%s:","font-weight: bold",...o);console.groupEnd()}else console.log("%c%s:","font-weight: bold",r,n)}console.groupEnd()}function R(e,t){if(e===t)return 0;let r=e.compareDocumentPosition(t);return r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS?1:0}function yt(e){console.group("AHX Elements");let t=new Set,r=new Set;for(let[n]of w())n instanceof Element?t.add(n):n instanceof CSSStyleRule&&r.add(n);for(let n of r)for(let o of document.querySelectorAll(n.selectorText))o instanceof Element&&t.add(o);for(let n of[...t].sort(R))if(e){let o=$(e,n);o.length&&console.log(n,...o)}else console.log(n);console.groupEnd()}function xt(e=!1){console.group("AHX Triggers");let t=new Map;function r(o,s,i){t.has(o)||t.set(o,new Map),t.get(o).set(i,s)}for(let[o,s,i]of w())if(s.startsWith("trigger:")){if(o instanceof Element)r(o,o,i);else if(o instanceof CSSStyleRule)for(let a of document.querySelectorAll(o.selectorText))a instanceof Element&&r(a,o,i)}let n=[...t.keys()].sort(R);for(let o of n){let s=t.get(o)??[],i=new Set,a=oe(o);for(let[{trigger:l}]of s)i.add(l.eventType);console.groupCollapsed("%o : %c%s",o,a?"text-decoration: line-through; color: grey":"color: red",[...i].join(", "));for(let[{trigger:l,action:f,swap:m},g]of s)if(e)console.log("trigger:",l,"action:",f,"origin:",g);else{let K=g instanceof Element?"element":g.cssText,ee="method"in f?`${f.method.toUpperCase()} ${f.url}`:f.type,_=(m.swapStyle??"default")+(m.itemName?` ${m.itemName}`:"");console.log("%c%s%c -> %c%s%c -> %c%s%c from: %c%s%c","color: red; font-weight: bold",l.eventType,"color: inherit; font-weight: normal","color: green",ee,"color: inherit","color: darkorange",_,"color: inherit","color: hotpink",K,"color: inherit")}console.groupEnd()}console.groupEnd()}function Et(){console.group("AHX Ownership");let e=new Set;for(let[t,r,n]of w())t instanceof Element?e.add(t):r==="owner"&&(t instanceof CSSRule?console.log("%o -> %s",t.cssText,n):console.log("%o -> %s",t,n));for(let t of[...e].sort(R)){let r=d(t,"owner");console.log("%o -> %s",t,r??"none")}console.groupEnd()}function wt(){console.group("AHX Forms");let e=new Set;for(let[t]of O("formData"))t instanceof Element&&e.add(t);for(let[t]of Tt("harvest"))for(let r of document.querySelectorAll(t.selectorText))e.add(q(r,t));for(let t of[...e].sort(R)){let r=t instanceof HTMLFormElement?new FormData(t):d(t,"formData");if(r){console.group(t);for(let[n,o]of r??[])console.log("%s: %c%s",n,"font-weight: bold",o);console.groupEnd()}}console.groupEnd()}function*Tt(e){for(let[t,r,n]of w())r.startsWith("trigger:")&&t instanceof CSSStyleRule&&typeof n=="object"&&"action"in n&&n.action.type===e&&Y(t)&&(yield[t,n])}function At(e,t){e&&e.getAttribute(`${c.prefix}-url-href`)!==t.href&&(r("href",t.href),r("host",t.host),r("path",t.pathname),r("search",t.search),r("hash",t.hash));function r(n,o){let s=`${c.prefix}-url-${n}`;o?e.setAttribute(s,o):e.removeAttribute(s)}}function Ve(e){function t(){At(e.documentElement,e.location)}["DOMContentLoaded","load","hashchange","popstate"].forEach(r=>{addEventListener(r,t)}),t()}ce(e=>{ie(),Ve(e),qe(e),k(e),J(e),D(e.documentElement)});window.ahx=le;})();
//# sourceMappingURL=index.js.map
