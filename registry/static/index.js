(()=>{var Ke=Object.defineProperty;var We=(e,t)=>{for(var o in t)Ke(e,o,{get:t[o],enumerable:!0})};var ae=!1;document.addEventListener("DOMContentLoaded",function(){ae=!0},{once:!0,passive:!0});function ce(e){ae?e(document):document.addEventListener("DOMContentLoaded",()=>e(document),{once:!0,passive:!0})}var E=new Map,H=new Set,q=new WeakMap;function w(e,t,o){if(E.has(t)||E.set(t,new WeakMap),E.get(t).set(e,o),!q.has(e)){let r=new WeakRef(e);H.add(r),q.set(e,r)}}function S(e,t,o){return o&&!g(e,t)&&w(e,t,o()),E.get(t)?.get(e)}function g(e,t){return!!E.get(t)?.has(e)}function K(e,t){if(t)E.get(t)?.delete(e);else{for(let r of E.values())r.delete(e);let o=q.get(e);o&&(H.delete(o),q.delete(e))}}function fe(e,t){for(let[o,r]of E.entries())if(o.startsWith("triggered:")){let n=r.get(e);n!==void 0&&w(t,o,n)}}function*C(e){let t=E.get(e);if(t)for(let o of H){let r=o.deref();r&&t.has(r)&&(yield[r,t.get(r)])}}function*A(){for(let e of H){let t=e.deref();if(t)for(let[o,r]of E.entries())r.has(t)&&(yield[t,o,r.get(t)])}}var f={prefix:"ahx",httpMethods:["get","post","put","patch","delete"],ahxAttrs:["trigger","target","slot-name"],maxLoopCount:10,defaultDelay:20,defaultSettleDelay:20,defaultSwapDelay:0,enableDebugEvent:!1,pseudoChildTags:{article:"div",aside:"div",audio:"track",body:"div",canvas:null,colgroup:"col",datalist:"option",div:"div",dl:"dt",footer:"div",form:"fieldset",head:null,header:"div",hgroup:"div",html:null,iframe:null,main:"div",map:"area",menu:"li",noscript:null,object:null,ol:"li",optgroup:"option",p:"span",picture:"source",portal:null,pre:null,script:null,section:"div",select:"option",span:"span",style:null,table:"tbody",tbody:"tr",template:null,textarea:null,tfoot:"tr",thead:"tr",tr:"td",ul:"li",video:"track",area:null,base:null,br:null,col:null,embed:null,hr:null,img:null,input:null,link:null,meta:null,param:null,source:null,track:null,wbr:null,"*":"slot"}};function L(e,t,o,r=!0){if(e!==null){let n=new CustomEvent(t,{bubbles:!!e,cancelable:r,detail:o});return f.enableDebugEvent&&dispatchEvent(new CustomEvent(f.prefix,{bubbles:!1,cancelable:!1,detail:{type:n.type,target:e,bubbles:n.bubbles,cancelable:n.cancelable,detail:n.detail}})),e&&"dispatchEvent"in e?e.dispatchEvent(n):dispatchEvent(n)}return!1}function W(e,t,o){L(e,`${f.prefix}:${t}`,o,!1)}function u(e,t,o){o._before=!0;let r=L(e,`${f.prefix}:${t}`,o);return delete o._before,r||L(e,`${f.prefix}:${t}:veto`,o,!1),r}function m(e,t,o){o._after=!0,L(e,`${f.prefix}:${t}:done`,o,!1),delete o._after}function N(e,t,o){L(e,`${f.prefix}:${t}:error`,{error:t,...o},!1)}function I(e){let t=new Set;for(let o of e.style)ee(o)&&t.add(o);return t}function pe(e){for(let t of e.attributes)if(te(t.name))return!0;return!1}function ee(e){return e.startsWith(`--${f.prefix}-`)}function te(e){return e.startsWith(`${f.prefix}-`)}function Ue(e){return e.startsWith(`${f.prefix}-`)}function b(e){return ee(e)?e:te(e)?`--${e}`:`--${f.prefix}-${e}`}function U(e){return te(e)?e:ee(e)?e.substring(2):`${f.prefix}-${e}`}function _(e){return Ue(e)?e:`${f.prefix}-${e}`}function h(e){if(g(e,"owner"))return S(e,"owner");if(e instanceof StyleSheet)return S(e,"owner")??e.href??void 0;if(e instanceof CSSRule&&e.parentStyleSheet)return h(e.parentStyleSheet);if(e instanceof Element&&e.parentElement)return h(e.parentElement)}function R(e,t){t!==h(e)&&w(e,"owner",t)}function v(e,t,o,r="tokens"){e=b(e);let n=t.style.getPropertyValue(e)?.trim();if(n){let i=/^attr\(([^\)\s,]+)(?:\s+([^\)\s,]+))?\)$/.exec(n);if(i)return o?(n=o.getAttribute(i[1])??void 0,n&&i[2]==="url"&&(n=s(n,o.baseURI)),n?[n]:[]):[n];{let c=/^--prop\(([^\)\s,]+)(?:\s+([^\)\s,]+))?\)$/.exec(n);if(c){if(!o)return[n];n=void 0;let a=o[c[1]];return c[2]==="url"&&typeof a=="string"?n=s(a,o.baseURI):(typeof a=="string"||typeof a=="number"||typeof a=="boolean")&&(n=String(a)),n?[n]:[]}}let l=/^url\(([^\)]*)\)(?:\s+url\(([^\)]*)\))*$/.exec(n);if(l){let[,...c]=l,a=t.parentStyleSheet?.href??t.style.parentRule?.parentStyleSheet?.href??o?.baseURI;return c.flatMap(p=>{let d=p?s(oe(p),a):void 0;return d?[d]:[]})}n=oe(n)}return n?r==="tokens"?n.split(/\s+/).map(oe):[n]:[];function s(i,l){try{return new URL(i,l).href}catch(c){console.error(c,i,l)}}}function oe(e){let t=/^\"([^\"]*)\"$/.exec(e)??/^\'([^\']*)\'$/.exec(e);return t?t[1]:e}function $(e,t,o="tokens"){e=U(e);let r=t.getAttribute(e)??void 0;return r?o==="tokens"?r.split(/\s+/):[r]:[]}function y(e,t,o="tokens"){return t instanceof Element?$(e,t,o):v(e,t,void 0,o)}function ue(e){let[t]=y("trigger",e,"whole"),o=[];if(t){let r=t.split(/\s*,\s*/);for(let n of r){let[s,...i]=n.split(/\s+/);if(s){let l={eventType:s};for(let c of i)switch(c){case"once":l[c]=!0;break}o.push(l)}}}return o}function me(e){let t=[];for(let o of f.httpMethods){let[r]=y(o,e);r&&t.push({type:"request",method:o,url:_e(r,e)})}return e instanceof CSSStyleRule&&I(e).has(b("harvest"))&&t.push({type:"harvest"}),t}function _e(e,t){let o=t instanceof Element?t.baseURI:void 0;try{return new URL(e,o)}catch{return}}function de(e){if(e!=null)return e.slice(-2)=="ms"?parseFloat(e.slice(0,-2))||void 0:e.slice(-1)=="s"?parseFloat(e.slice(0,-1))*1e3||void 0:e.slice(-1)=="m"?parseFloat(e.slice(0,-1))*1e3*60||void 0:parseFloat(e)||void 0}function Se(e){let t=y("swap",e,"tokens"),o={};if(t?.length){o.swapStyle=t.shift()?.toLowerCase(),(o.swapStyle==="attr"||o.swapStyle==="input")&&(o.itemName=t.shift());for(let r of t){let[n,s]=r.split(":");switch(n){case"swap":case"delay":o.delay=de(s);break;case"join":o.merge="join";break;case"append":o.merge="append";break}}}return o}function B(e,t){return Be(e,t,!1)}function Be(e,t,o){if(!t)return s();let[r,n]=Fe(t);switch(r){case"this":return s(e);case"closest":return s(e.closest(n));case"find":return o?e.querySelectorAll(n):e.querySelector(n)??void 0;case"next":return s(je(e,n));case"previous":return s(Ge(e,n));case"body":return s(e.ownerDocument.body);case"document":case"window":return s();default:return o?e.ownerDocument.querySelectorAll(t):e.ownerDocument.querySelector(t)??void 0}function s(i){return o?i?[i]:[]:i??void 0}}function Fe(e){let t=e.indexOf(" ");return t===-1?[e,""]:[e.substring(0,t),e.substring(t+1)]}function je(e,t){for(let o of e.ownerDocument.querySelectorAll(t))if(o.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_PRECEDING)return o}function Ge(e,t){let o=e.ownerDocument.querySelectorAll(t);for(let r=o.length-1;r>=0;r--){let n=o[r];if(n.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_FOLLOWING)return n}}async function*Qe(){let e=this.getReader();try{let t,o;do({done:t,value:o}=await e.read()),o!==void 0&&(yield o);while(!t)}finally{e.releaseLock()}}ReadableStream.prototype[Symbol.asyncIterator]??=Qe;var F=class extends TransformStream{constructor(t,o){let r,n;super({start(){r=t.implementation.createHTMLDocument()},transform(s,i){if(r.write(s),!n&&r.body?.childElementCount>0){let l=r.body.children[0];o&&l instanceof HTMLTemplateElement?n=l.content:n=r.body}for(;n?.childElementCount>1;){let l=n.children[0];t.adoptNode(l),i.enqueue(l)}},flush(s){for(let i of[...n?.children??[]])t.adoptNode(i),s.enqueue(i);r.close(),r=void 0,n=void 0}})}};function ye(e,t){for(let[o,r]of C("slotName"))if(r.has(e)){if(o instanceof Element)return o;if(o instanceof CSSStyleRule){let n=t.querySelector(o.selectorText);if(n)return n}}}async function he(e){let{response:t,target:o}=e,r=o.ownerDocument;if(t?.ok&&t.headers.get("Content-Type")?.startsWith("text/html")&&t.body){let n=0,s,i=!1,l=t.body.pipeThrough(new TextDecoderStream).pipeThrough(new F(r,!0));for await(let c of l){let a={...e,swapStyle:e.swapStyle??"none",element:c,previous:s,index:n};switch(c.localName){case`${f.prefix}-replace-previous`:i=!0;continue;case`${f.prefix}-flush`:continue}let[p]=$("slot",c);if(p){a.slot=p;let d=ye(p,r);d?(a.target=d,a.swapStyle="inner"):a.swapStyle="none"}if(u(o,"swap",a)){let{target:d,element:P,controlOwner:V,swapStyle:Z,slot:le}=a;V&&R(P,V),le||!s?ze[Z]?.(d,P):s&&i?s.replaceWith(P):s.after(P),le||(s=P),m(d,"swap",a)}n++}}}var j=e=>(t,o)=>{t.insertAdjacentElement(e,o)},ze={none(){},inner(e,t){e.replaceChildren(t)},outer(e,t){let o=`${f.prefix}-pseudo`;for(let r of e.classList)r.startsWith(o)&&t.classList.add(r);fe(e,t),e.replaceWith(t)},beforebegin:j("beforebegin"),afterbegin:j("afterbegin"),beforeend:j("beforeend"),afterend:j("afterend")};function ge(e){let{target:t,itemName:o,merge:r}=e,n={...e};if(n.oldValue=t.getAttribute(o)??void 0,r==="join"&&n.oldValue&&n.value&&(n.value=Ye(n.oldValue,n.value)),u(t,"swap",n)){let{target:s,itemName:i,value:l}=n;i&&l!==void 0&&s.setAttribute(i,l),m(s,"swap",n)}}function Ye(e,t){let o=" ",r=new Set(`${e}${o}${t}`.split(o));return r.delete(""),[...r].join(o)}function Ee(e){let{target:t,itemName:o,merge:r,value:n}=e;if(!o||n===void 0)return;let s={...e};if(t instanceof HTMLFormElement)switch(s.input=t.elements.namedItem(o)??void 0,r){case"append":s.input=xe(o,t.ownerDocument);break;default:s.input?"value"in s.input&&(s.oldValue=s.input.value):s.input=xe(o,t.ownerDocument);break}else{s.formData=S(t,"formData",()=>new FormData);let i=s.formData.get(o);typeof i=="string"&&(s.oldValue=i)}if(r==="join"&&(s.value=Xe(s.oldValue,s.value)),u(t,"swap",s)){let{target:i,input:l,itemName:c,merge:a,formData:p,value:d}=s;c&&d!==void 0&&(l&&"value"in l?(l.value=d,l instanceof Element&&!l.parentElement&&i.insertAdjacentElement("beforeend",l)):p&&(a==="append"?p.append(c,d):p.set(c,d))),m(i,"swap",s)}}function xe(e,t){let o=t.createElement("input");return o.type="hidden",o.name=e,o}function Xe(e="",t=""){let o=" ",r=new Set(`${e}${o}${t}`.split(o));return r.delete(""),[...r].join(o)}function we(e){let{swapStyle:t}=e;switch(t){case"input":return Ee(e);case"attr":return ge(e)}}async function G(e){let{swapStyle:t,response:o,itemName:r}=e,{value:n}=e;switch(t){case"input":case"attr":return r?(n===void 0&&o&&(n=await o.text()),we({...e,swapStyle:t,itemName:r,value:n})):void 0;default:if(Je(o))return he({...e,swapStyle:t??"none",response:o})}}function Je(e){return!!e?.headers.get("Content-Type")?.startsWith("text/html")&&!!e.body}async function Ce(e){let{source:t,action:o,target:r,swap:n,controlOwner:s,targetOwner:i}=e;if(o.type!=="request")return;let l=Ze({...e,action:o});if(!l)return;let c={request:l};if(u(t,"request",c)){let{request:a}=c;try{let p=await fetch(a);if(m(t,"request",{request:a,response:p}),p.headers.has(_("refresh"))){let d={...e,request:a,response:p,refresh:!0,url:new URL(location.href)};if(u(t,"navigate",d)){location.reload();return}}await G({...n,target:r,response:p,controlOwner:s,targetOwner:i})}catch(p){m(t,"request",{request:a,error:p})}}}function Ze(e){let{action:t,formData:o,source:r}=e;if(!t.url){N(r,"invalidRequest",{action:t,reason:"Missing URL"});return}let n=new URL(t.url),s=new Headers,i={method:t.method.toUpperCase(),headers:s};if(s.set("Accept","text/html,application/xhtml+xml,text/plain;q=0.9"),s.set(_("request"),"true"),s.set(_("current-url"),r.ownerDocument.location.href),o)switch(i.method){case"GET":case"HEAD":case"DELETE":for(let[l,c]of o)typeof c=="string"&&n.searchParams.append(l,c);break;case"PUT":case"POST":case"PATCH":et(o)?(i.body=o,s.set("Content-Type","multipart/form-data")):(i.body=new URLSearchParams(o),s.set("Content-Type","application/x-www-form-urlencoded"))}return new Request(n,i)}function et(e){for(let t of e.values())if(t instanceof File)return!0;return!1}async function Ae(e){let{event:t,source:o,action:r,target:n,swap:s,control:i,controlOwner:l,targetOwner:c}=e;if(!(i instanceof CSSStyleRule)||r.type!=="harvest")return;let[a]=v("harvest",i,o);if(a===void 0)return;let p=tt(t),d={source:o,oldValue:p,newValue:a,control:i,targetOwner:c,controlOwner:l};u(o,"harvest",d)&&(await G({...s,target:n,value:d.newValue}),m(o,"harvest",d))}function tt(e){if(e instanceof CustomEvent&&"oldValue"in e.detail)return e.detail.oldValue}async function be(e){let{source:t,control:o,action:r}=e,[n]=y("include",o,"whole"),s=B(t,n);if(e.formData=s?ot(s):void 0,r.type==="request"&&o instanceof CSSStyleRule&&r.url===void 0){let[i]=v(r.method,o,t);i&&(e.action={...r,url:new URL(i,t.baseURI)})}if(u(t,"action",e)){switch(e.action.type){case"request":await Ce(e);break;case"harvest":await Ae(e);break}m(t,"action",e)}}function ot(e){if(g(e,"formData"))return S(e,"formData");if(e instanceof HTMLFormElement)return new FormData(e)}function ve(e){let{control:t,trigger:o,source:r}=e;if(re(r)){N(r,"triggerDenied",e);return}o?.once&&S(r,`triggered:${o.eventType}`)?.has(t)||(o?.changed,u(r,"trigger",e)&&(o?.once&&S(r,`triggered:${o.eventType}`,()=>new WeakSet).add(t),g(t,"delayed")&&(clearTimeout(S(t,"delayed")),K(t,"delayed")),o?.throttle||o?.delay||be(e),m(r,"trigger",e)))}function re(e){let[t]=y("deny-trigger",e);return t==="true"}var rt=new Set(["load","watch"]);function Te(e){return rt.has(e)?`${f.prefix}:${e}`:e}function Re(e){let t=`${f.prefix}:`;return e.startsWith(t)?e.substring(t.length):e}function Q(e){return!!e.parentStyleSheet&&!e.parentStyleSheet.disabled}var nt=0;function Ne(e){return S(e,"ruleId",()=>`${++nt}`)}function*st(e,t,o){let r=S(t,`control:${e}`);if(r&&(yield[t,t,r]),o)for(let[n,s]of C(`control:${e}`))n instanceof Element&&t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY&&(yield[n,n,s])}function*it(e,t,o){for(let[r,n]of C(`control:${e}`))if(n&&r instanceof CSSStyleRule&&Q(r)&&(t.matches(r.selectorText)&&(yield[t,r,n]),o))for(let s of t.querySelectorAll(r.selectorText))yield[s,r,n]}function*Pe(e,t,o){yield*st(e,t,o),yield*it(e,t,o)}function z(e,t){let[o]=y("target",t,"whole");return B(e,o)??e}var Ie=new Set;function De(e){if(!Ie.has(e)){let t={eventType:e};u(void 0,"addEventType",t)&&(Ie.add(e),addEventListener(Te(e),lt),m(void 0,"addEventType",t))}}function lt(e){for(let t of at(e))ve(t)}function*at(e){if(e.target instanceof Element){let t=Pe(Re(e.type),e.target,ct(e));for(let[o,r,n]of t){let s=z(o,r);yield{...n,event:e,source:o,sourceOwner:h(o),target:s,targetOwner:h(s),control:r,controlOwner:h(r)}}}}function ct(e){return e instanceof CustomEvent&&!!e.detail?.recursive}function x(e){if(e instanceof Element)return e;if(e&&"ownerNode"in e&&e.ownerNode&&e.ownerNode instanceof Element)return e.ownerNode;if(e?.parentStyleSheet)return x(e.parentStyleSheet);if(e&&"ownerRule"in e)return x(e.ownerRule)}function Oe(e){let t=x(e.control);if(u(t,"processControl",e)){let{control:o,trigger:r,action:n,swap:s}=e,{eventType:i}=r;w(o,`control:${i}`,{trigger:r,action:n,swap:s}),De(i),m(t,"processControl",e)}}function Y(e){let t=ue(e),o=me(e),r=Se(e);for(let n of t)for(let s of o)Oe({control:e,trigger:n,action:s,swap:r})}function X(e){let t=y("slot-name",e,"tokens");if(t.length){let o=S(e,"slotName",()=>new Set);t.forEach(r=>o.add(r))}}function M(e){if(pe(e)){let t={owner:h(e)};u(e,"processElement",t)&&(t.owner&&R(e,t.owner),Y(e),X(e),m(e,"processElement",t))}}function J(e){let t=new Set;[...f.ahxAttrs,...f.httpMethods].forEach(r=>{t.add(`[${U(r)}]`)});let o={selectors:t};if(u(e,"processElements",o)){let r=new Set;for(let n of o.selectors){!r.has(e)&&e instanceof Element&&e.matches(n)&&(r.add(e),M(e));for(let s of e.querySelectorAll(n))r.has(s)||(r.add(s),M(s))}m(e,"processElements",o)}}function ke(e){W(e,"mutate",{})}function D(e){W(e,"load",{recursive:!0})}function Le(e,t){let o=b("deny-trigger");if(t.has(o)){let[r]=v(o,e);r==="true"?w(e,"denyTrigger",!0):(e.style.removeProperty(o),N(e.parentStyleSheet?.ownerNode??document,"invalidCssValue",{prop:o,value:r,rule:e}))}return[]}var ft=1;function $e(e){let t=e.selectorText.includes("::before"),o=t?!1:e.selectorText.includes("::after");if(t||o){let r=S(e,"pseudoId")||ft++,n=t?"before":"after",s=e.selectorText.replace(`::${n}`,"");for(let i of document.querySelectorAll(s))pt(i,r,n);return ut(e,r,n)}}function pt(e,t,o){let r=`${f.prefix}-pseudo-${t}`;if(!e.querySelector(`:scope > .${r}`)){let n=e.localName,s=f.pseudoChildTags[n];if(s===null){N(e,"pseudoElementNotPermitted",{parentTag:n});return}s===void 0&&(s=f.pseudoChildTags["*"]??"span");let i=`${f.prefix}-pseudo-${o}`,l=document.createElement(s);l.setAttribute("class",`${f.prefix}-pseudo ${i} ${r}`);let c={pseudoElt:l,pseudoId:t,place:o};if(u(e,"pseudoElement",c)){let a=c.place==="before"?"afterbegin":"beforeend";e.insertAdjacentElement(a,c.pseudoElt),m(e,"pseudoElement",c)}}}function ut(e,t,o){if(!g(e,"pseudoId")){w(e,"pseudoId",t);let r=`${f.prefix}-pseudo-${t}`,n=e.selectorText.replace(`::${o}`,` > .${r}`),s=e.cssText.replace(e.selectorText,n),i={selectorText:n,cssText:s,parentStyleSheet:e.parentStyleSheet},l={pseudoId:t,pseudoRule:i,rule:e,place:o,owner:h(e)},c=x(e)??document;if(u(c,"pseudoRule",l)){let a=l.pseudoRule.parentStyleSheet;if(a){let p=a.cssRules,d=p[a.insertRule(l.pseudoRule.cssText,p.length)];return!l.owner&&a.href&&(l.owner=a.href),l.owner&&R(d,l.owner),m(c,"pseudoRule",{...l,pseudoRule:d}),d}}}}function Me(e,t){let o=!!x(e)?.ownerDocument?.querySelector(e.selectorText),r=v("import",e);for(let n of r){let s=S(e,"importLinks")?.get(n)?.deref();s?o&&s.sheet?.disabled?(s.sheet.disabled=!1,setTimeout(()=>{t?.(s)},0)):!o&&s.sheet&&(s.sheet.disabled=!0):o&&(s=mt(n,x(e)?.crossOrigin??void 0,t),s&&S(e,"importLinks",()=>new Map).set(n,new WeakRef(s)))}}function mt(e,t,o){let r={url:e,crossOrigin:t,disabled:!1};if(u(document,"cssImport",r)&&!document.querySelector(`link[rel="stylesheet"][href="${r.url}"]`)){let n=document.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",r.url),typeof r.crossOrigin=="string"&&n.setAttribute("crossorigin",r.crossOrigin),n.addEventListener("load",s=>{function i(l=1){setTimeout(()=>{n.sheet?(m(s.target??document,"cssImport",r),o?.(n)):l<1e3?i(l*2):console.error("ahx timeout loading stylesheet:",r.url,n.sheet)},l)}i()},{once:!0,passive:!0}),document.head.appendChild(n),n}}function ne(e,t){let o=Ne(e);if(e.parentStyleSheet&&dt(e.parentStyleSheet),t.size){let r=h(e),n={rule:e,props:t,owner:r},s=x(e)??document;if(u(s,"processRule",n)){n.owner&&R(e,n.owner),yt(e,o,t),Me(e,St),Le(e,t);let i=$e(e);i&&ne(i,I(i)),Y(e),X(e),m(s,"processRule",n)}}}function dt(e){g(e,"owner")||R(e,e.href??"unknown")}function St(e){O(e),D(e.ownerDocument.documentElement)}function yt(e,t,o){let r=b("rule");o.has(r)||e.style.setProperty(r,t);let n=b(`rule-${t}`);o.has(n)||e.style.setProperty(n,t)}function O(e){let t={rules:ht(e)};if(u(e,"processRules",t)){for(let[o,r]of t.rules)ne(o,r);m(e,"processRules",t)}}function ht(e){let t=new Map;function o(s){if(!s.disabled)try{r(s.cssRules)}catch{}}function r(s){for(let i of s)i instanceof CSSImportRule&&i.styleSheet?o(i.styleSheet):i instanceof CSSGroupingRule?r(i.cssRules):i instanceof CSSStyleRule&&n(i)}function n(s){let i=I(s);i.size>0&&t.set(s,i)}if("sheet"in e&&e.sheet)o(e.sheet);else if("styleSheets"in e)for(let s of e.styleSheets)o(s);return t}function Ve(e){let t=new MutationObserver(r=>{let n={mutations:r};if(u(e,"mutations",n)){let s=new Set,i=new Set,l=new Set,c=new Set;for(let a of n.mutations){for(let p of a.removedNodes)s.add(p),p instanceof Element&&i.add(p);for(let p of a.addedNodes)s.delete(p),p instanceof Element&&(J(p),l.add(p));a.type==="attributes"&&a.target instanceof Element&&M(a.target),a.target instanceof Element&&c.add(a.target)}setTimeout(()=>{for(let a of c)ke(a)},0),setTimeout(()=>{for(let a of l)D(a)}),O(e),m(e,"mutations",{...n,removedElements:i,addedElements:l,mutatedElements:c});for(let a of s)qe(a)}}),o={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0};u(e,"startObserver",o)&&(t.observe(e,o),m(e,"startObserver",o))}function qe(e){K(e);for(let t of e.childNodes)qe(t)}var ie={};We(ie,{controls:()=>At,elements:()=>Ct,eventsAll:()=>xt,eventsNone:()=>Et,forms:()=>vt,internals:()=>gt,logger:()=>se,loggerConfig:()=>k,owners:()=>bt,slots:()=>Rt});function gt(){console.group("ahx internal properties...");let e;for(let[t,o,r]of A()){if(t!==e){e&&console.groupEnd();let n=t instanceof CSSRule?t.cssText:t;if(console.groupCollapsed(n),console.dir(t),t instanceof CSSStyleRule)for(let s of document.querySelectorAll(t.selectorText))console.log(s);e=t}if(r instanceof Map){console.group("%s:",o);for(let n of r)console.log("%c%s:","font-weight: bold",...n);console.groupEnd()}else console.log("%c%s:","font-weight: bold",o,r)}console.groupEnd()}var k={group:!1,include:[]};function xt(){f.enableDebugEvent=!0,addEventListener(f.prefix,se)}function Et(){f.enableDebugEvent=!1,removeEventListener(f.prefix,se)}function se({detail:e}){let{type:t,target:o,detail:r}=e;if(wt(t))if(r?._after&&k.group&&console.groupEnd(),r?._before){let n=k.group?k.group===!0?"group":"groupCollapsed":"debug";console[n]("%s -> %o %o",t,o,r)}else console.debug("%s -> %o %o",t,o,r)}function wt(e){return k.include?.length?!!k.include.some(t=>e.includes(`:${t}`)):!0}function T(e,t){if(e===t)return 0;let o=e.compareDocumentPosition(t);return o&Node.DOCUMENT_POSITION_FOLLOWING||o&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:o&Node.DOCUMENT_POSITION_PRECEDING||o&Node.DOCUMENT_POSITION_CONTAINS?1:0}function Ct(e){console.group("ahx elements...");let t=new Set,o=new Set;for(let[r]of A())r instanceof Element?t.add(r):r instanceof CSSStyleRule&&o.add(r);for(let r of o)for(let n of document.querySelectorAll(r.selectorText))n instanceof Element&&t.add(n);for(let r of[...t].sort(T))if(e){let n=$(e,r);n.length&&console.log(r,...n)}else console.log(r);console.groupEnd()}function At(e=!1){console.group("ahx controls...");let t=new Map;function o(n,s,i){t.has(n)||t.set(n,new Map),t.get(n).set(i,s)}for(let[n,s,i]of A())if(s.startsWith("control:")){if(n instanceof Element)o(n,n,i);else if(n instanceof CSSStyleRule)for(let l of document.querySelectorAll(n.selectorText))l instanceof Element&&o(l,n,i)}let r=[...t.keys()].sort(T);for(let n of r){let s=t.get(n)??[],i=new Set,l=re(n);for(let[{trigger:c}]of s)i.add(c.eventType);console.groupCollapsed("%o : %c%s",n,l?"text-decoration: line-through; color: grey":"color: red",[...i].join(", "));for(let[{trigger:c,action:a,swap:p},d]of s)if(e)console.log("trigger:",c,"action:",a,"swap:",p,"control:",d);else{let P=d instanceof Element?"element":d.cssText,V="method"in a?`${a.method.toUpperCase()} ${a.url}`:a.type,Z=(p.swapStyle??"default")+(p.itemName?` ${p.itemName}`:"");console.log("%c%s%c -> %c%s%c -> %c%s%c from: %c%s%c","color: red; font-weight: bold",c.eventType,"color: inherit; font-weight: normal","color: green",V,"color: inherit","color: darkorange",Z,"color: inherit","color: hotpink",P,"color: inherit")}console.groupEnd()}console.groupEnd()}function bt(){console.group("ahx ownership...");let e=new Set;for(let[t,o,r]of A())t instanceof Element?e.add(t):o==="owner"&&(t instanceof CSSRule?console.log("%o -> %s",t.cssText,r):console.log("%o -> %s",t,r));for(let t of[...e].sort(T)){let o=S(t,"owner");console.log("%o -> %s",t,o??"none")}console.groupEnd()}function vt(){console.group("ahx form...");let e=new Set;for(let[t]of C("formData"))t instanceof Element&&e.add(t);for(let[t]of Tt("harvest"))for(let o of document.querySelectorAll(t.selectorText))e.add(z(o,t));for(let t of[...e].sort(T)){let o=t instanceof HTMLFormElement?new FormData(t):S(t,"formData");if(o){console.group(t);for(let[r,n]of o??[])console.log("%s: %c%s",r,"font-weight: bold",n);console.groupEnd()}}console.groupEnd()}function*Tt(e){for(let[t,o,r]of A())o.startsWith("control:")&&t instanceof CSSStyleRule&&typeof r=="object"&&"action"in r&&r.action.type===e&&Q(t)&&(yield[t,r])}function Rt(){console.group("ahx slots...");let e=new Map;function t(o,r){let n=e.get(o)??e.set(o,new Set).get(o);r.forEach(s=>n.add(s))}for(let[o,r]of C("slotName"))if(o instanceof Element)t(o,r);else if(o instanceof CSSStyleRule){let n=document.querySelector(o.selectorText);n&&t(n,r)}for(let o of[...e.keys()].sort(T))console.log(o,...e.get(o));console.groupEnd()}function Nt(e,t){e&&e.getAttribute(`${f.prefix}-url-href`)!==t.href&&(o("href",t.href),o("host",t.host),o("path",t.pathname),o("search",t.search),o("hash",t.hash));function o(r,n){let s=`${f.prefix}-url-${r}`;n?e.setAttribute(s,n):e.removeAttribute(s)}}function He(e){function t(){Nt(e.documentElement,e.location)}["DOMContentLoaded","load","hashchange","popstate"].forEach(o=>{addEventListener(o,t)}),t()}ce(e=>{He(e),Ve(e),O(e),J(e),D(e.documentElement)});window.ahx=ie;})();
//# sourceMappingURL=index.js.map
