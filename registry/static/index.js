(()=>{var We=Object.defineProperty;var Ue=(e,t)=>{for(var o in t)We(e,o,{get:t[o],enumerable:!0})};var fe=!1;document.addEventListener("DOMContentLoaded",function(){fe=!0},{once:!0,passive:!0});function ue(e){fe?e(document):document.addEventListener("DOMContentLoaded",()=>e(document),{once:!0,passive:!0})}var x=new Map,W=new Set,_=new WeakMap;function w(e,t,o){if(x.has(t)||x.set(t,new WeakMap),x.get(t).set(e,o),!_.has(e)){let n=new WeakRef(e);W.add(n),_.set(e,n)}}function d(e,t,o){return o&&!E(e,t)&&w(e,t,o()),x.get(t)?.get(e)}function E(e,t){return!!x.get(t)?.has(e)}function U(e,t){if(t)x.get(t)?.delete(e);else{for(let n of x.values())n.delete(e);let o=_.get(e);o&&(W.delete(o),_.delete(e))}}function me(e,t){for(let[o,n]of x.entries())if(o.startsWith("triggered:")){let r=n.get(e);r!==void 0&&w(t,o,r)}}function*R(e){let t=x.get(e);if(t)for(let o of W){let n=o.deref();n&&t.has(n)&&(yield[n,t.get(n)])}}function*C(){for(let e of W){let t=e.deref();if(t)for(let[o,n]of x.entries())n.has(t)&&(yield[t,o,n.get(t)])}}var c={prefix:"ahx",httpMethods:["get","post","put","patch","delete"],ahxAttrs:["trigger","target"],maxLoopCount:10,defaultDelay:20,defaultSettleDelay:20,defaultSwapDelay:0,enableDebugEvent:!1,pseudoChildTags:{article:"div",aside:"div",audio:"track",body:"div",canvas:null,colgroup:"col",datalist:"option",dl:"dt",footer:"div",form:"fieldset",head:null,header:"div",hgroup:"div",html:null,iframe:null,main:"div",map:"area",menu:"li",noscript:null,object:null,ol:"li",optgroup:"option",picture:"source",portal:null,pre:null,script:null,section:"div",select:"option",style:null,table:"tbody",tbody:"tr",template:null,textarea:null,tfoot:"tr",thead:"tr",tr:"td",ul:"li",video:"track",area:null,base:null,br:null,col:null,embed:null,hr:null,img:null,input:null,link:null,meta:null,param:null,source:null,track:null,wbr:null,"*":"span"}};function M(e,t,o,n=!0){if(e!==null){let r=new CustomEvent(t,{bubbles:!!e,cancelable:n,detail:o});return c.enableDebugEvent&&dispatchEvent(new CustomEvent(c.prefix,{bubbles:!1,cancelable:!1,detail:{type:r.type,target:e,bubbles:r.bubbles,cancelable:r.cancelable,detail:r.detail}})),e&&"dispatchEvent"in e?e.dispatchEvent(r):dispatchEvent(r)}return!1}function B(e,t,o){M(e,`${c.prefix}:${t}`,o,!1)}function m(e,t,o){o._before=!0;let n=M(e,`${c.prefix}:${t}`,o);return delete o._before,n||M(e,`${c.prefix}:${t}:veto`,o,!1),n}function u(e,t,o){o._after=!0,M(e,`${c.prefix}:${t}:done`,o,!1),delete o._after}function T(e,t,o){M(e,`${c.prefix}:${t}:error`,{error:t,...o},!1)}function N(e){let t=new Set;for(let o of e.style)oe(o)&&t.add(o);return t}function de(e){for(let t of e.attributes)if(re(t.name))return!0;return!1}function oe(e){return e.startsWith(`--${c.prefix}-`)}function re(e){return e.startsWith(`${c.prefix}-`)}function A(e){return oe(e)?e:re(e)?`--${e}`:`--${c.prefix}-${e}`}function F(e){return re(e)?e:oe(e)?e.substring(2):`${c.prefix}-${e}`}function g(e){if(E(e,"owner"))return d(e,"owner");if(e instanceof StyleSheet)return d(e,"owner")??e.href??void 0;if(e instanceof CSSRule&&e.parentStyleSheet)return g(e.parentStyleSheet);if(e instanceof Element&&e.parentElement)return g(e.parentElement)}function v(e,t){t!==g(e)&&w(e,"owner",t)}function D(e){if(e!=null)return e.slice(-2)=="ms"?parseFloat(e.slice(0,-2))||void 0:e.slice(-1)=="s"?parseFloat(e.slice(0,-1))*1e3||void 0:e.slice(-1)=="m"?parseFloat(e.slice(0,-1))*1e3*60||void 0:parseFloat(e)||void 0}function h(e){if(e instanceof Element)return e;if(e&&"ownerNode"in e&&e.ownerNode&&e.ownerNode instanceof Element)return e.ownerNode;if(e?.parentStyleSheet)return h(e.parentStyleSheet);if(e&&"ownerRule"in e)return h(e.ownerRule)}function P(e,t,o,n="tokens"){e=A(e);let r=t.style.getPropertyValue(e)?.trim();if(r){if(o){let l=/^attr\(([^\)\s,]+)(?:\s+([^\)\s,]+))?\)$/.exec(r);if(l)return r=o.getAttribute(l[1])??void 0,r&&l[2]==="url"&&(r=s(r,o.baseURI)),r?[r]:[];{let p=/^--prop\(([^\)\s,]+)(?:\s+([^\)\s,]+))?\)$/.exec(r);if(p){r=void 0;let a=o[p[1]];return p[2]==="url"&&typeof a=="string"?r=s(a,o.baseURI):(typeof a=="string"||typeof a=="number"||typeof a=="boolean")&&(r=String(a)),r?[r]:[]}}}let i=/^url\(([^\)]*)\)(?:\s+url\(([^\)]*)\))*$/.exec(r);if(i){let[,...l]=i,p=t.parentStyleSheet?.href??t.style.parentRule?.parentStyleSheet?.href??o?.baseURI;return l.flatMap(a=>{let f=s(ne(a),p);return f?[f]:[]})}r=ne(r)}return r?n==="tokens"?r.split(/\s+/).map(ne):[r]:[];function s(i,l){try{return new URL(i,l).href}catch(p){console.error(p,i,l)}}}function ne(e){let t=/^\"([^\"]*)\"$/.exec(e)??/^\'([^\']*)\'$/.exec(e);return t?t[1]:e}function $(e,t,o="tokens"){e=F(e);let n=t.getAttribute(e)??void 0;return n?o==="tokens"?n.split(/\s+/):[n]:[]}function y(e,t,o="tokens"){return t instanceof Element?$(e,t,o):P(e,t,void 0,o)}var se=/[\s,]/,Be=/[_$a-zA-Z]/,Fe=/[_$a-zA-Z0-9]/,je=['"',"'","/"],V=/[^\s]/;function Se(e){let[t]=y("trigger",e,"whole"),o=[],n=h(e);if(t){let r=Ge(t);do{b(r,V);let s=r.length,i=b(r,/[,\[\s]/);if(i)if(i==="every"){let l={eventType:"every"};b(r,V),l.pollInterval=D(b(r,/[,\[\s]/)),b(r,V),o.push(l)}else{let l={eventType:i};for(;r.length>0&&r[0]!==",";){b(r,V);let p=r.shift();p==="changed"?l.changed=!0:p==="once"?l.once=!0:p==="delay"&&r[0]===":"?(r.shift(),l.delay=D(b(r,se))):p==="throttle"&&r[0]===":"?(r.shift(),l.throttle=D(b(r,se))):p==="queue"&&r[0]===":"?(r.shift(),l.queue=b(r,se)):T(n,"triggerSyntax",{token:r.shift()})}o.push(l)}r.length===s&&T(n,"triggerSyntax",{token:r.shift()}),b(r,V)}while(r[0]===","&&r.shift())}return o}function Ge(e){let t=[],o=0;for(;o<e.length;){if(Be.exec(e.charAt(o))){let n=o;for(;Fe.exec(e.charAt(o+1));)o++;t.push(e.substr(n,o-n+1))}else if(je.indexOf(e.charAt(o))!==-1){let n=e.charAt(o),r=o;for(o++;o<e.length&&e.charAt(o)!==n;)e.charAt(o)==="\\"&&o++,o++;t.push(e.substr(r,o-r+1))}else{let n=e.charAt(o);t.push(n)}o++}return t}function b(e,t){let o="";for(;e.length>0&&!e[0].match(t);)o+=e.shift();return o}function he(e){let t=[];for(let o of c.httpMethods){let[n]=y(o,e);if(n){let r=(h(e)??document).baseURI;t.push({type:"request",method:o,url:new URL(n,r)})}}return e instanceof CSSStyleRule&&N(e).has(A("harvest"))&&t.push({type:"harvest"}),t}function ye(e){let t=y("swap",e,"tokens"),o={};if(t?.length){o.swapStyle=t.shift()?.toLowerCase(),(o.swapStyle==="attr"||o.swapStyle==="input")&&(o.itemName=t.shift());for(let n of t){let[r,s]=n.split(":");switch(r){case"swap":case"delay":o.delay=D(s);break;case"join":o.merge="join";break;case"append":o.merge="append";break}}}return o}function j(e,t){return ze(e,t,!1)}function ze(e,t,o){if(!t)return s();let[n,r]=Qe(t);switch(n){case"this":return s(e);case"closest":return s(e.closest(r));case"find":return o?e.querySelectorAll(r):e.querySelector(r)??void 0;case"next":return s(Ye(e,r));case"previous":return s(Ze(e,r));case"body":return s(e.ownerDocument.body);case"document":case"window":return s();default:return o?e.ownerDocument.querySelectorAll(t):e.ownerDocument.querySelector(t)??void 0}function s(i){return o?i?[i]:[]:i??void 0}}function Qe(e){let t=e.indexOf(" ");return t===-1?[e,""]:[e.substring(0,t),e.substring(t+1)]}function Ye(e,t){for(let o of e.ownerDocument.querySelectorAll(t))if(o.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_PRECEDING)return o}function Ze(e,t){let o=e.ownerDocument.querySelectorAll(t);for(let n=o.length-1;n>=0;n--){let r=o[n];if(r.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_FOLLOWING)return r}}async function*Xe(){let e=this.getReader();try{let t,o;do({done:t,value:o}=await e.read()),o!==void 0&&(yield o);while(!t)}finally{e.releaseLock()}}ReadableStream.prototype[Symbol.asyncIterator]??=Xe;var G=class extends TransformStream{constructor(t,o){let n,r;super({start(){n=t.implementation.createHTMLDocument()},transform(s,i){if(n.write(s),!r&&n.body?.childElementCount>0){let l=n.body.children[0];o&&l instanceof HTMLTemplateElement?r=l.content:r=n.body}for(;r?.childElementCount>1;){let l=r.children[0];t.adoptNode(l),i.enqueue(l)}},flush(s){for(let i of[...r?.children??[]])t.adoptNode(i),s.enqueue(i);n.close(),n=void 0,r=void 0}})}};function ge(e,t){for(let[o,n]of R("slotName"))if(n.has(e)){if(o instanceof Element)return o;if(o instanceof CSSStyleRule){let r=t.querySelector(o.selectorText);if(r)return r}}for(let o of t.querySelectorAll("slot[name]"))if(e===o.getAttribute("name"))return o}async function Ee(e){let{response:t,target:o}=e,n=o.ownerDocument;if(t?.ok&&t.headers.get("Content-Type")?.startsWith("text/html")&&t.body){let r=0,s,i=t.body.pipeThrough(new TextDecoderStream).pipeThrough(new G(n,!0));for await(let l of i){let p={...e,swapStyle:e.swapStyle??"none",element:l,previous:s,index:r},[a]=$("slot",l);if(a){p.slot=a;let f=ge(a,n);f?(p.target=f,p.swapStyle="inner"):p.swapStyle="none"}if(m(o,"swap",p)){let{target:f,element:S,controlOwner:K,swapStyle:te,slot:H}=p;K&&v(S,K),H||!s?Je[te]?.(f,S):s.after(S),H||(s=S),u(f,"swap",p)}r++}}}var z=e=>(t,o)=>{t.insertAdjacentElement(e,o)},Je={none(){},inner(e,t){e.replaceChildren(t)},outer(e,t){let o=`${c.prefix}-pseudo`;for(let n of e.classList)n.startsWith(o)&&t.classList.add(n);me(e,t),e.replaceWith(t)},beforebegin:z("beforebegin"),afterbegin:z("afterbegin"),beforeend:z("beforeend"),afterend:z("afterend")};function xe(e){let{target:t,itemName:o,merge:n}=e,r={...e};if(r.oldValue=t.getAttribute(o)??void 0,n==="join"&&r.oldValue&&r.value&&(r.value=et(r.oldValue,r.value)),m(t,"swap",r)){let{target:s,itemName:i,value:l}=r;i&&l!==void 0&&s.setAttribute(i,l),u(s,"swap",r)}}function et(e,t){let o=" ",n=new Set(`${e}${o}${t}`.split(o));return n.delete(""),[...n].join(o)}function Ce(e){let{target:t,itemName:o,merge:n,value:r}=e;if(!o||r===void 0)return;let s={...e};if(t instanceof HTMLFormElement)switch(s.input=t.elements.namedItem(o)??void 0,n){case"append":s.input=we(o,t.ownerDocument);break;default:s.input?"value"in s.input&&(s.oldValue=s.input.value):s.input=we(o,t.ownerDocument);break}else{s.formData=d(t,"formData",()=>new FormData);let i=s.formData.get(o);typeof i=="string"&&(s.oldValue=i)}if(n==="join"&&(s.value=tt(s.oldValue,s.value)),m(t,"swap",s)){let{target:i,input:l,itemName:p,merge:a,formData:f,value:S}=s;p&&S!==void 0&&(l&&"value"in l?(l.value=S,l instanceof Element&&!l.parentElement&&i.insertAdjacentElement("beforeend",l)):f&&(a==="append"?f.append(p,S):f.set(p,S))),u(i,"swap",s)}}function we(e,t){let o=t.createElement("input");return o.type="hidden",o.name=e,o}function tt(e="",t=""){let o=" ",n=new Set(`${e}${o}${t}`.split(o));return n.delete(""),[...n].join(o)}function Ae(e){let{swapStyle:t}=e;switch(t){case"input":return Ce(e);case"attr":return xe(e)}}async function Q(e){let{swapStyle:t,response:o,itemName:n}=e,{value:r}=e;switch(t){case"input":case"attr":return n?(r===void 0&&o&&(r=await o.text()),Ae({...e,swapStyle:t,itemName:n,value:r})):void 0;default:if(ot(o))return Ee({...e,swapStyle:t??"none",response:o})}}function ot(e){return!!e?.headers.get("Content-Type")?.startsWith("text/html")&&!!e.body}async function be(e){let{source:t,action:o,target:n,swap:r,formData:s,controlOwner:i,targetOwner:l}=e;if(o.type!=="request")return;let p={request:rt(o,s)};if(m(t,"request",p)){let{request:a}=p;try{let f=await fetch(a);u(t,"request",{request:a,response:f}),await Q({...r,target:n,response:f,controlOwner:i,targetOwner:l})}catch(f){u(t,"request",{request:a,error:f})}}}function rt(e,t){let o=new URL(e.url),n={method:e.method.toUpperCase()};if(t)switch(n.method){case"GET":case"HEAD":case"DELETE":for(let[r,s]of t)o.searchParams.append(r,String(s));break;case"PUT":case"POST":case"PATCH":n.body=t}return new Request(o,n)}async function Te(e){let{event:t,source:o,action:n,target:r,swap:s,control:i,controlOwner:l,targetOwner:p}=e;if(!(i instanceof CSSStyleRule)||n.type!=="harvest")return;let[a]=P("harvest",i,o);if(a===void 0)return;let f=nt(t),S={source:o,oldValue:f,newValue:a,control:i,targetOwner:p,controlOwner:l};m(o,"harvest",S)&&(await Q({...s,target:r,value:S.newValue}),u(o,"harvest",S))}function nt(e){if(e instanceof CustomEvent&&"oldValue"in e.detail)return e.detail.oldValue}async function ve(e){let{source:t,control:o}=e,[n]=y("include",o,"whole"),r=j(t,n);if(e.formData=r?st(r):void 0,m(t,"action",e)){switch(e.action.type){case"request":await be(e);break;case"harvest":await Te(e);break}u(t,"action",e)}}function st(e){if(E(e,"formData"))return d(e,"formData");if(e instanceof HTMLFormElement)return new FormData(e)}function Re(e){let{control:t,trigger:o,source:n}=e;if(ie(n)){T(n,"triggerDenied",e);return}o?.once&&d(n,`triggered:${o.eventType}`)?.has(t)||(o?.changed,m(n,"trigger",e)&&(o?.once&&d(n,`triggered:${o.eventType}`,()=>new WeakSet).add(t),E(t,"delayed")&&(clearTimeout(d(t,"delayed")),U(t,"delayed")),o?.throttle||o?.delay||ve(e),u(n,"trigger",e)))}function ie(e){let[t]=y("deny-trigger",e);return t==="true"}var it=new Set(["load","watch"]);function Pe(e){return it.has(e)?`${c.prefix}:${e}`:e}function Ie(e){let t=`${c.prefix}:`;return e.startsWith(t)?e.substring(t.length):e}function Y(e){return!!e.parentStyleSheet&&!e.parentStyleSheet.disabled}var lt=0;function Ne(e){return d(e,"ruleId",()=>`${++lt}`)}function*at(e,t,o){let n=d(t,`control:${e}`);if(n&&(yield[t,t,n]),o)for(let[r,s]of R(`control:${e}`))r instanceof Element&&t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY&&(yield[r,r,s])}function*pt(e,t,o){for(let[n,r]of R(`control:${e}`))if(r&&n instanceof CSSStyleRule&&Y(n)&&(t.matches(n.selectorText)&&(yield[t,n,r]),o))for(let s of t.querySelectorAll(n.selectorText))yield[s,n,r]}function*De(e,t,o){yield*at(e,t,o),yield*pt(e,t,o)}function Z(e,t){let[o]=y("target",t,"whole");return j(e,o)??e}var Oe=new Set;function ke(e){if(!Oe.has(e)){let t={eventType:e};m(void 0,"addEventType",t)&&(Oe.add(e),addEventListener(Pe(e),ct),u(void 0,"addEventType",t))}}function ct(e){for(let t of ft(e))Re(t)}function*ft(e){if(e.target instanceof Element){let t=De(Ie(e.type),e.target,ut(e));for(let[o,n,r]of t){let s=Z(o,n);yield{...r,event:e,source:o,sourceOwner:g(o),target:s,targetOwner:g(s),control:n,controlOwner:g(n)}}}}function ut(e){return e instanceof CustomEvent&&!!e.detail?.recursive}function Le(e){let t=h(e.control);if(m(t,"processControl",e)){let{control:o,trigger:n,action:r,swap:s}=e,{eventType:i}=n;w(o,`control:${i}`,{trigger:n,action:r,swap:s}),ke(i),u(t,"processControl",e)}}function X(e){let t=Se(e),o=he(e),n=ye(e);for(let r of t)for(let s of o)Le({control:e,trigger:r,action:s,swap:n})}function J(e){let t=y("slot-name",e,"tokens");if(t.length){let o=d(e,"slotName",()=>new Set);t.forEach(n=>o.add(n))}}function q(e){if(de(e)){let t={owner:g(e)};m(e,"processElement",t)&&(t.owner&&v(e,t.owner),X(e),J(e),u(e,"processElement",t))}}function ee(e){let t=new Set;[...c.ahxAttrs,...c.httpMethods].forEach(n=>{t.add(`[${F(n)}]`)});let o={selectors:t};if(m(e,"processElements",o)){let n=new Set;for(let r of o.selectors){!n.has(e)&&e instanceof Element&&e.matches(r)&&(n.add(e),q(e));for(let s of e.querySelectorAll(r))n.has(s)||(n.add(s),q(s))}u(e,"processElements",o)}}function Me(e){B(e,"mutate",{})}function O(e){B(e,"load",{recursive:!0})}function $e(e,t){let o=A("deny-trigger");if(t.has(o)){let[n]=P(o,e);n==="true"?w(e,"denyTrigger",!0):(e.style.removeProperty(o),T(e.parentStyleSheet?.ownerNode??document,"invalidCssValue",{prop:o,value:n,rule:e}))}return[]}var mt=1;function Ve(e){let t=e.selectorText.includes("::before"),o=t?!1:e.selectorText.includes("::after");if(t||o){let n=d(e,"pseudoId")||mt++,r=t?"before":"after",s=e.selectorText.replace(`::${r}`,"");for(let i of document.querySelectorAll(s))dt(i,n,r);return St(e,n,r)}}function dt(e,t,o){let n=`${c.prefix}-pseudo-${t}`;if(!e.querySelector(`:scope > .${n}`)){let r=e.localName,s=c.pseudoChildTags[r];if(s===null){T(e,"pseudoElementNotPermitted",{parentTag:r});return}s===void 0&&(s=c.pseudoChildTags["*"]??"span");let i=`${c.prefix}-pseudo-${o}`,l=document.createElement(s);l.setAttribute("class",`${c.prefix}-pseudo ${i} ${n}`);let p={pseudoElt:l,pseudoId:t,place:o};if(m(e,"pseudoElement",p)){let a=p.place==="before"?"afterbegin":"beforeend";e.insertAdjacentElement(a,p.pseudoElt),u(e,"pseudoElement",p)}}}function St(e,t,o){if(!E(e,"pseudoId")){w(e,"pseudoId",t);let n=`${c.prefix}-pseudo-${t}`,r=e.selectorText.replace(`::${o}`,` > .${n}`),s=e.cssText.replace(e.selectorText,r),i={selectorText:r,cssText:s,parentStyleSheet:e.parentStyleSheet},l={pseudoId:t,pseudoRule:i,rule:e,place:o,owner:g(e)},p=h(e)??document;if(m(p,"pseudoRule",l)){let a=l.pseudoRule.parentStyleSheet;if(a){let f=a.cssRules,S=f[a.insertRule(l.pseudoRule.cssText,f.length)];return!l.owner&&a.href&&(l.owner=a.href),l.owner&&v(S,l.owner),u(p,"pseudoRule",{...l,pseudoRule:S}),S}}}}function qe(e,t){let o=!!h(e)?.ownerDocument?.querySelector(e.selectorText),n=P("import",e);for(let r of n){let s=d(e,"importLinks")?.get(r)?.deref();s?o&&s.sheet?.disabled?(s.sheet.disabled=!1,setTimeout(()=>{t?.(s)},0)):!o&&s.sheet&&(s.sheet.disabled=!0):o&&(s=ht(r,h(e)?.crossOrigin??void 0,t),s&&d(e,"importLinks",()=>new Map).set(r,new WeakRef(s)))}}function ht(e,t,o){let n={url:e,crossOrigin:t,disabled:!1};if(m(document,"cssImport",n)&&!document.querySelector(`link[rel="stylesheet"][href="${n.url}"]`)){let r=document.createElement("link");return r.setAttribute("rel","stylesheet"),r.setAttribute("href",n.url),typeof n.crossOrigin=="string"&&r.setAttribute("crossorigin",n.crossOrigin),r.addEventListener("load",s=>{console.log("After load",n.url,r.sheet);function i(l=1){setTimeout(()=>{console.log("After load + timeout",n.url,r.sheet),r.sheet?(u(s.target??document,"cssImport",n),o?.(r)):l<1e3?i(l*2):console.error("TIMEOUT")},l)}i()},{once:!0,passive:!0}),document.head.appendChild(r),r}}function le(e,t){let o=Ne(e);if(e.parentStyleSheet&&yt(e.parentStyleSheet),t.size){let n=g(e),r={rule:e,props:t,owner:n},s=h(e)??document;if(m(s,"processRule",r)){r.owner&&v(e,r.owner),Et(e,o,t),qe(e,gt),$e(e,t);let i=Ve(e);i&&le(i,N(i)),X(e),J(e),u(s,"processRule",r)}}}function yt(e){E(e,"owner")||v(e,e.href??"unknown")}function gt(e){k(e),O(e.ownerDocument.documentElement)}function Et(e,t,o){let n=A("rule");o.has(n)||e.style.setProperty(n,t);let r=A(`rule-${t}`);o.has(r)||e.style.setProperty(r,t)}function k(e){let t={rules:xt(e)};if(m(e,"processRules",t)){for(let[o,n]of t.rules)le(o,n);u(e,"processRules",t)}}function xt(e){let t=new Map;function o(s){if(!s.disabled)try{n(s.cssRules)}catch{}}function n(s){for(let i of s)i instanceof CSSImportRule&&i.styleSheet?o(i.styleSheet):i instanceof CSSGroupingRule?n(i.cssRules):i instanceof CSSStyleRule&&r(i)}function r(s){let i=N(s);i.size>0&&t.set(s,i)}if("sheet"in e&&e.sheet)o(e.sheet);else if("styleSheets"in e)for(let s of e.styleSheets)o(s);return t}function Ke(e){let t=new MutationObserver(n=>{let r={mutations:n};if(m(e,"mutations",r)){let s=new Set,i=new Set,l=new Set,p=new Set;for(let a of r.mutations){for(let f of a.removedNodes)s.add(f),f instanceof Element&&i.add(f);for(let f of a.addedNodes)s.delete(f),f instanceof Element&&(ee(f),l.add(f));a.type==="attributes"&&a.target instanceof Element&&q(a.target),a.target instanceof Element&&p.add(a.target)}setTimeout(()=>{for(let a of p)Me(a)},0),setTimeout(()=>{for(let a of l)O(a)}),k(e),u(e,"mutations",{...r,removedElements:i,addedElements:l,mutatedElements:p});for(let a of s)He(a)}}),o={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0};m(e,"startObserver",o)&&(t.observe(e,o),u(e,"startObserver",o))}function He(e){U(e);for(let t of e.childNodes)He(t)}var L={group:!1,include:[]};function ae(){c.enableDebugEvent=!0,addEventListener(c.prefix,pe)}function wt(){c.enableDebugEvent=!1,removeEventListener(c.prefix,pe)}function pe({detail:e}){let{type:t,target:o,detail:n}=e;if(Ct(t))if(n?._after&&L.group&&console.groupEnd(),n?._before){let r=L.group?L.group===!0?"group":"groupCollapsed":"debug";console[r]("%s -> %o %o",t,o,n)}else console.debug("%s -> %o %o",t,o,n)}function Ct(e){return L.include?.length?!!L.include.some(t=>e.includes(`:${t}`)):!0}var ce={};Ue(ce,{controls:()=>Tt,elements:()=>bt,eventsAll:()=>ae,eventsNone:()=>wt,forms:()=>Rt,internals:()=>At,logger:()=>pe,loggerConfig:()=>L,owners:()=>vt});function At(){console.group("ahx internal properties...");let e;for(let[t,o,n]of C()){if(t!==e){e&&console.groupEnd();let r=t instanceof CSSRule?t.cssText:t;if(console.groupCollapsed(r),console.dir(t),t instanceof CSSStyleRule)for(let s of document.querySelectorAll(t.selectorText))console.log(s);e=t}if(n instanceof Map){console.group("%s:",o);for(let r of n)console.log("%c%s:","font-weight: bold",...r);console.groupEnd()}else console.log("%c%s:","font-weight: bold",o,n)}console.groupEnd()}function I(e,t){if(e===t)return 0;let o=e.compareDocumentPosition(t);return o&Node.DOCUMENT_POSITION_FOLLOWING||o&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:o&Node.DOCUMENT_POSITION_PRECEDING||o&Node.DOCUMENT_POSITION_CONTAINS?1:0}function bt(e){console.group("ahx elements...");let t=new Set,o=new Set;for(let[n]of C())n instanceof Element?t.add(n):n instanceof CSSStyleRule&&o.add(n);for(let n of o)for(let r of document.querySelectorAll(n.selectorText))r instanceof Element&&t.add(r);for(let n of[...t].sort(I))if(e){let r=$(e,n);r.length&&console.log(n,...r)}else console.log(n);console.groupEnd()}function Tt(e=!1){console.group("ahx controls...");let t=new Map;function o(r,s,i){t.has(r)||t.set(r,new Map),t.get(r).set(i,s)}for(let[r,s,i]of C())if(s.startsWith("control:")){if(r instanceof Element)o(r,r,i);else if(r instanceof CSSStyleRule)for(let l of document.querySelectorAll(r.selectorText))l instanceof Element&&o(l,r,i)}let n=[...t.keys()].sort(I);for(let r of n){let s=t.get(r)??[],i=new Set,l=ie(r);for(let[{trigger:p}]of s)i.add(p.eventType);console.groupCollapsed("%o : %c%s",r,l?"text-decoration: line-through; color: grey":"color: red",[...i].join(", "));for(let[{trigger:p,action:a,swap:f},S]of s)if(e)console.log("trigger:",p,"action:",a,"swap:",f,"control:",S);else{let K=S instanceof Element?"element":S.cssText,te="method"in a?`${a.method.toUpperCase()} ${a.url}`:a.type,H=(f.swapStyle??"default")+(f.itemName?` ${f.itemName}`:"");console.log("%c%s%c -> %c%s%c -> %c%s%c from: %c%s%c","color: red; font-weight: bold",p.eventType,"color: inherit; font-weight: normal","color: green",te,"color: inherit","color: darkorange",H,"color: inherit","color: hotpink",K,"color: inherit")}console.groupEnd()}console.groupEnd()}function vt(){console.group("ahx ownership...");let e=new Set;for(let[t,o,n]of C())t instanceof Element?e.add(t):o==="owner"&&(t instanceof CSSRule?console.log("%o -> %s",t.cssText,n):console.log("%o -> %s",t,n));for(let t of[...e].sort(I)){let o=d(t,"owner");console.log("%o -> %s",t,o??"none")}console.groupEnd()}function Rt(){console.group("ahx form...");let e=new Set;for(let[t]of R("formData"))t instanceof Element&&e.add(t);for(let[t]of Pt("harvest"))for(let o of document.querySelectorAll(t.selectorText))e.add(Z(o,t));for(let t of[...e].sort(I)){let o=t instanceof HTMLFormElement?new FormData(t):d(t,"formData");if(o){console.group(t);for(let[n,r]of o??[])console.log("%s: %c%s",n,"font-weight: bold",r);console.groupEnd()}}console.groupEnd()}function*Pt(e){for(let[t,o,n]of C())o.startsWith("control:")&&t instanceof CSSStyleRule&&typeof n=="object"&&"action"in n&&n.action.type===e&&Y(t)&&(yield[t,n])}function It(e,t){e&&e.getAttribute(`${c.prefix}-url-href`)!==t.href&&(o("href",t.href),o("host",t.host),o("path",t.pathname),o("search",t.search),o("hash",t.hash));function o(n,r){let s=`${c.prefix}-url-${n}`;r?e.setAttribute(s,r):e.removeAttribute(s)}}function _e(e){function t(){It(e.documentElement,e.location)}["DOMContentLoaded","load","hashchange","popstate"].forEach(o=>{addEventListener(o,t)}),t()}ue(e=>{ae(),_e(e),Ke(e),k(e),ee(e),O(e.documentElement)});window.ahx=ce;})();
//# sourceMappingURL=index.js.map
